<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button (click)="this.navigationStateService.goBackHistoryOnly()"></ion-back-button>
    </ion-buttons>
    <ion-title class="centered-title">
      {{ account.name }}
    </ion-title>
    <ion-buttons slot="end">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<div class="ion-padding" id="outer">
  <div style="text-align:center;" class="ion-padding-bottom">
    <ion-button (click)="presentModalTransaction()">Add transaction</ion-button>
    <ion-button (click)="presentModalPayment()">Add payment</ion-button>
  </div>
  <ion-content style="flex-grow : 1;">
    <div *ngFor="let x of transfersByDay">
      <ion-text color="medium">{{ relevantDate(x[0][0]) | date:'longDate'}}</ion-text>
      <ion-card *ngFor="let t of x">
        <ion-grid class="--ion-grid-padding: 0px;">
          <ion-row class="ion-align-items-center">
            <ion-col>
              <div class="ion-text-left">
                <ion-label color="medium">{{ relevantDate(t[0]) | date:'shortTime'}}</ion-label>
              </div>
            </ion-col>
            <ion-col>
              <div class="ion-text-center">
                <ion-label color="dark">{{ nonNullLabel(t) }}</ion-label>
              </div>
            </ion-col>
            <ion-col class="ion-text-right">
              <ion-badge [color]="MathsUtils.negative(MathsUtils.relevantAmount(t[0], accountNumber)) ? 'danger' : 'success'">
                {{ formattedAmount(t[0]) }}</ion-badge>
              <ion-badge color="light" style="font-weight:normal;"> = {{ t[1] }}</ion-badge>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-card>
    </div>
  </ion-content>
</div>